name: Claude AI Code Agent

on:
  push:
    branches: [ "main", "master" ]
  pull_request:

jobs:
  claude:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Claude Code Action Official
        uses: anthropics/claude-code-action@v1
        with:
          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}
          prompt: |
            You are an expert senior software engineer.

            Review the entire repository.
            1. Find bugs
            2. Find security issues
            3. Suggest performance improvements
            4. Improve code quality and architecture
            5. Output fixes as GitHub review comments.

